function closed_popup(){return $(".popup--video").removeClass("open"),$(".popup--video .you_tube").empty(),$(".popup .you_tube").empty(),$(".popup").hide(),!1}function SetYoutube(){var e="",t=arguments[0];""==t||null==t?(closed_popup(),$(".popup--video").removeClass("open"),alert("Coming soon.")):(e='<iframe id="video" width="900" height="576" src="'+t+'?autoplay=1" allow="autoplay; encrypted-media" frameborder="0" allowfullscreen></iframe>',$(".popup--video .you_tube").html(e))}function SetYoutubePV(){var e="",t=arguments[0];e='<iframe id="pvIframe" width="900" height="576" src="'+t+'?autoplay=1" allow="autoplay; encrypted-media" frameborder="0" allowfullscreen></iframe>',$("#popup__pv .you_tube").html(e)}function bgmPlay(){$(".bgmBtn").addClass("active"),audio.muted=!1,audio.play(),$(".bgmBtn").attr("title","BGM 음소거")}function bgmPause(){$(".bgmBtn").removeClass("active"),audio.muted=!0,audio.pause(),$(".bgmBtn").attr("title","BGM 듣기")}function navClose(){$(window).width()<=1440&&$(".header").stop().removeClass("active"),$(".nav__toggle").stop().removeClass("on"),$(".nav__toggle").attr("title","네비게이션 열기")}function navOpen(){$(window).width()<=1440&&$(".header").stop().addClass("active"),$(".nav__toggle").stop().addClass("on"),$(".nav__toggle").attr("title","네비게이션 닫기")}function scrollSpy(){const e=["sectionMain","section-reservation","section-cbt","section-intro","section-feature"],t=["LV.1","LV.4","LV.6","LV.8","LV.10"];let o="";for(let a=0;a<e.length;a++)if($("#"+e[a]).offset().top<=$(window).scrollTop()+300){o=e[a].split("section-")[1],$(".progress-bar__level").html(t[a]);let n=a/(e.length-1)*100;$(".progress-list").css("width",`${n}%`)}$(".nav .nav-item .link").removeClass("active"),$(`.nav .nav-item a[href="#section-${o}"]`).length>0&&$(`.nav .nav-item a[href="#section-${o}"]`).addClass("active"),$("body").attr("data-section",`${o}`)}function mobileVh(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",e+"px")}function goToPortraitMode(){const e=window.innerWidth,t=window.innerHeight;t<=e?($(".goToPortraitMode").addClass("show"),setTimeout(function(){$(".goToPortraitMode").removeClass("show")},6e3)):$(".goToPortraitMode").removeClass("show")}$(document).ready(function(){$("body").on("click",' button[data-popup="popup__pv"]',function(){bgmPause(),SetYoutubePV($(this).attr("data-content")),$("#popup__pv .btn-bx .btn").removeClass("on"),$("#popup__pv .btn-bx #pv-1").addClass("on")})}),$(document).ready(function(){}),$("#popup__pv .btn-bx .btn").click(function(){var e=$(this).data("src");$("#pvIframe").attr("src",e),$(this).addClass("on"),$(this).siblings().removeClass("on")}),$(document).on("click",".popup-link",function(){var e=$(this).attr("data-popup");return $("#"+e).fadeIn().css("display","flex"),!1}),$(document).keyup(function(e){"Escape"===e.key&&closed_popup()}),$(document).ready(function(){$("body").on("click",".popup-link--video",function(){return bgmPause(),$(".popup--video").addClass("open").fadeIn("300"),SetYoutube($(this).attr("data-content")),!1})});const $mediaResponsiveSize=1080.02,audio=document.getElementById("bgmAudio");$(".bgmBtn").click(function(){$(this).hasClass("active")?bgmPause():bgmPlay()}),$(window).width()<=1440&&$(".nav-item .link:not(.link--disabled)").click(function(){navClose()}),$(window).on("resize",function(){$(".nav__wrap").css("max-height",$(window).outerHeight()-20),$(window).width()<=1440&&(navClose(),$(".nav-item .link:not(.link--disabled)").click(function(){navClose()}))}),$(".nav__toggle").click(function(){$(this).hasClass("on")?navClose():navOpen()}),$(".nav__list .nav-item .link").on("click",function(){const e=$(this).attr("href");if(!($(window).width()<=$mediaResponsiveSize))return"#section-reservation"==e?$("html,body").animate({scrollTop:$(e).offset().top+250},500):$("html,body").animate({scrollTop:$(e).offset().top+80},500),!1}),$(".section").each(function(){const e=100,t=100;$(this).find('[data-aos-delay="none"]').each(function(o){$(this).attr("data-aos-delay",o*t+e)})}),$(".nav__wrap").css("max-height",$(window).outerHeight()-20),$(".btnTop").click(function(e){e.preventDefault(),$("html,body").animate({scrollTop:0},500)});const $charItem=$("#charItem"),$anchors=$(".anchor");$(window).scroll(function(e){scrollSpy();let t,o=$(this).scrollTop();$(".trigger-section").each(function(){const e=$(this).outerHeight(),t=$(this).offset().top;o>t?($(this).addClass("fix"),o>t+e?$(this).addClass("bottom"):$(this).removeClass("bottom")):$(this).removeClass("fix")}),window.outerWidth>1080?(t=$(".section--feature").offset().top-67-102-180+80,o>t?($charItem.addClass("arrivalFinal"),$(".section--feature .char-wrap").addClass("init")):($charItem.removeClass("arrivalFinal"),$(".section--feature .char-wrap").removeClass("init"))):$("body").outerHeight()-$(".section--feature").outerHeight()-$(window).height()-180<=o?($charItem.addClass("arrivalFinal"),$(".char1-mo").stop().fadeIn("fast")):($charItem.removeClass("arrivalFinal"),$(".char1-mo").stop().fadeOut("fast")),$(window).scrollTop()>500?($(".btnTop").fadeIn(300),$(".header .nav").addClass("sub")):($(".btnTop").fadeOut(300),$(".header .nav").removeClass("sub")),$(window).scrollTop()>$("body").outerHeight()-$(".common-footer").outerHeight()-$(window).height()?$(".btnTop").addClass("fix"):$(".btnTop").removeClass("fix")}),$(document).ready(function(){AOS.init(),$(window).width()>1440?navOpen():(bgmPause(),audio.currentTime=0)}),$("html").easeScroll({frameRate:100,animationTime:500,stepSize:100,pulseAlgorithm:!0,pulseScale:3,pulseNormalize:1,accelerationDelta:20,accelerationMax:1,keyboardSupport:!0,arrowScroll:50}),$(window).on("load",function(){$("body").attr("data-loading","done")}),$(window).on("load resize",function(){mobileVh()});var infoSwiper=new Swiper("#infoSwiper .swiper-container",{autoplay:{delay:1800},autoplay:!1,speed:300,effect:"fade",fadeEffect:{crossFade:!0},loop:!1,touchRatio:0,centeredSlides:!0,slidesPerView:"auto",navigation:{nextEl:"#infoSwiper .swiper-button--next",prevEl:"#infoSwiper .swiper-button--prev"},pagination:{el:"#infoSwiper .swiper-paging",clickable:!0,bulletActiveClass:"swiper-paging-item-active",bulletClass:"swiper-paging-item",renderBullet:function(e,t){return 0===e?'<span class="'+t+'">검사</span>':1===e?'<span class="'+t+'">법사</span>':2===e?'<span class="'+t+'">도둑</span>':3===e?'<span class="'+t+'">복사</span>':4===e?'<span class="'+t+'">상인</span>':'<span class="'+t+'">궁수</span>'}},on:{setTransition:function(){$("#infoSwiper .swiper-slide").removeClass("now"),$("#infoSwiper .swiper-slide.swiper-slide-active").addClass("now")}}});$(".js-tab").each(function(e,t){$(t).find(".js-tab-link").click(function(e){var o=$(this).attr("data-hash");return e.preventDefault(),$(this).parent().parent().find(".js-tab-link").removeClass("active"),$(t).find(".js-tab-content").hide(),$(this).addClass("active"),$("#"+o).show(),!1})});const featureSwiper=new Swiper(".section--feature #featureSwiper .swiper-container",{speed:500,loop:!0,autoplay:!0,pagination:{el:".section--feature #featureSwiper .swiper-pagination",type:"bullets",clickable:!0},navigation:{nextEl:".section--feature .swiper-button--next",prevEl:".section--feature .swiper-button--prev"}});$(window).on("load",function(){goToPortraitMode()}),$(window).on("resize",function(){goToPortraitMode()});